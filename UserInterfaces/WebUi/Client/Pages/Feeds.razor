@page "/feeds"

<style>
    .content {
        padding-top: 0;
    }
</style>

@if (_feedChannels == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="d-flex flex-wrap h-100">
        <Split>
            <SplitArea>
                <div class="h-100" style="background-color:beige">

                    <div class="card h-100">
                        <div class="card-header">
                            <h4 class="text-center">Feed Channels</h4>
                            <div class="d-flex justify-content-end">
                                <a href="#" class="m-2 btn btn-primary">Add</a>
                                <a href="#" class="m-2 btn btn-primary">Refresh</a>
                                <a href="#" class="m-2 btn btn-primary">Remove</a>
                                <a href="#" class="m-2 btn btn-primary">Search</a>
                            </div>
                        </div>

                        <div class="card-body">

                            <div class="accordion">

                                @foreach (var feedChannel in _feedChannels)
                                {
                                    <div class="card">
                                        <div class="card-header" id="@($"{feedChannel.Id}h")">
                                            <h5 class="mb-0">
                                                <button class="btn btn-link"
                                                        type="button"
                                                        data-toggle="collapse"
                                                        data-target="#x"
                                                        aria-expanded="true"
                                                        aria-controls="x">
                                                    @feedChannel.Title
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="x" class="collapse" aria-labelledby="@($"{feedChannel.Id}h")">
                                            <div class="card-body">
                                                @foreach (var feedItem in feedChannel.FeedItems)
                                                {
                                                    <p>@feedItem.Title</p>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                }

                            </div>

                        </div>


                        <div class="card-footer text-right text-muted">
                            150 feeds
                        </div>
                    </div>



                </div>
            </SplitArea>

            <SplitArea>
                <div class="h-100" style="background-color:ghostwhite">

                </div>
            </SplitArea>
        </Split>
    </div>
}
